{{page-title "Unification"}}
<BsAccordion as |acc|>
  <acc.item
    @value='1'
    @disabled={{not this.hasMeta}}
    @title='{{if this.hasMapping "✅" "❔"}} Configure unification'
  >
    {{!-- "primary dataset"'s metadata is used to propose classes and predicates  --}}
    <MappingShapeCreator
      @dataset={{this.model.dataset}}
      @nodeShape={{this.mappingShape}}
      @onSubmit={{this.handleNewMappingShape}}
    />
  </acc.item>
  <acc.item
    @value='2'
    @disabled={{not this.hasMapping}}
    @title='{{if this.model.lastUnification "✅" "❔"}} Run unification'
  >
    <BsButton
      @onClick={{perform this.createAndRunUnifyVocabJob}}
    >Run unification</BsButton>
    <RecentTasks
      @source={{this.model.vocabulary}}
      @operation="http://mu.semte.ch/vocabularies/ext/ContentUnificationJob"
    />
  </acc.item>
</BsAccordion>